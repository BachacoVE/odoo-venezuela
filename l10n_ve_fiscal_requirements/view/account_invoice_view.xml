<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
            <menuitem id="menu_venezuela_reporting" name="Venezuela Reports" parent="account.menu_finance_legal_statement"/>
    <!-- 
    =====================================================
    Invoices Extension FORM
    =====================================================
    -->  
        <record id="account_invoice_ext_view_form_loc_ve" model="ir.ui.view">
            <field name="name">invoice_extended.account.invoice.form.loc_ve</field>
            <field name="model">account.invoice</field>
            <field name="type">form</field>
            <field name="inherit_id" ref="account.invoice_form"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='date_invoice']" position="replace">
                    <group colspan="6" cols="2">
                        <field name="date_invoice"/>
                        <label align="0.0" 
                               string="(keep empty to use the current date, this will be date used in accounting and Fiscal moves)"/>
                    </group>
                    <newline/>
                    <group colspan="6" cols="2">
                        <field name="date_document"/>
                        <label align="0.0" 
                               string="(Put here the date when Sale Invoice was delivered to customer)"/>
                    </group>
                    <newline/>
                </xpath>
                <xpath expr="//page[@string='Payments']" position="after">
                    <page string="Debit-Credit Notes">
                        <newline/>
                        <field name="child_ids" nolabel="1" widget="many2many" domain="[('partner_id','=',partner_id),('id', '!=', active_id),('type','in',['out_invoice', 'out_refund'])]"/>
                    </page>
                </xpath>
                <xpath expr="//separator[@string='Additional Information']" position="before">
                      
                    <group colspan="2" >
                     <separator colspan="6" string="Fiscal Information"/>
                        <field name="sin_cred" />
                        <field name="invoice_printer" groups="parameters_fiscal_printer.group_parameters_fiscal_printer_user"/>
                        <field name="fiscal_printer" groups="parameters_fiscal_printer.group_parameters_fiscal_printer_user"/>
                        <field name="parent_id" 
                               attrs="{'required':[('type','=','out_refund')]}" 
                               domain="[('partner_id','=',partner_id),('id', '!=', active_id),('type','in',['out_invoice', 'out_refund'])]"/>
                        <field  name="nro_ctrl" />
                        <button name="%(action_wiz_nroctrl)d" 
                                type='action' 
                                string='Change control number' 
                                icon="gtk-execute"
                                colspan="6" />
                    </group>
                </xpath>
                <xpath expr="//button[@string='Refund Invoice']" position="replace">
                    <button name="%(account.action_account_invoice_refund)d" 
                            type='action' 
                            string='Refund Invoice' 
                            states='open,paid' 
                            icon="gtk-execute"/>
                </xpath>
                <xpath expr="//field[@name='address_invoice_id']" position="replace">
                    <field name="address_invoice_id"  domain="[('partner_id','=',partner_id), ('type','=','invoice')]"/>
                </xpath>
                <xpath expr="//button[@string='Refund Invoice']" position="after">
                    <button name="%(action_account_invoice_debit)d" 
                            type='action' 
                            string='Debit Note' 
                            icon="gtk-execute" 
                            attrs="{'invisible':['|',('state','in',['proforma2','proforma','cancel', 'draft']),('type','in',['out_refund', 'in_refund'])]}"/>
                </xpath>
                <xpath expr="//button[@string='Refund Invoice']" position="after">
                    <button name="%(action_account_invoice_parent)d" 
                            type='action' 
                            string='Parent Invoice' 
                            states='open,paid' 
                            icon="gtk-execute" 
                            attrs="{'invisible':[('type','!=','out_refund')]}"/>
                </xpath>
            </field>
        </record>

    <!-- 
    =====================================================
    Invoices Extension TREE
    =====================================================
    -->  


        <record id="account_inv_ext_view_tree_crdr" model="ir.ui.view">
            <field name="name">invoice_extended.tree.crdr</field>
            <field name="model">account.invoice</field>
            <field name="type">tree</field>
            <field name="inherit_id" ref="account.invoice_tree"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='origin']" position="after">
                    <field name="parent_id"/>
                </xpath>
            </field>
        </record>
    <!-- 
    =====================================================
    Invoices Extension SUPPLIER
    =====================================================
    -->  
    
    
        <record id="account_invoice_ext_view_supp_form_loc_ve" model="ir.ui.view">
            <field name="name">invoice_extended.account.invoice.supplier.form.loc_ve</field>
            <field name="model">account.invoice</field>
            <field name="type">form</field>
            <field name="inherit_id" ref="account.invoice_supplier_form"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='date_invoice']" position="replace">
                    <group colspan="6" cols="2">
                        <field name="date_invoice"/>
                        <label align="0.0" 
                               string="(keep empty to use the current date, this will be date used in accounting and Fiscal moves)"/>
                   </group>
                    <newline/>
                    <group colspan="6" cols="2">
                        <field name="date_document"/>
                        <label align="0.0" 
                               string="(Put here the date when Purchase Invoice was generated for the supplier)"/>
                    </group>
                   <newline/>
                </xpath>
               <xpath expr="//field[@name='user_id']" position="after">
                    <group colspan="2">
                       <separator colspan="6" string="Fiscal Information"/>
                        <field name="sin_cred" />
                        <field name="expedient" attrs="{'readonly':[('type','in',['out_invoice','out_refund'])]}"/>
                        <field name="parent_id" 
                               attrs="{'required':[('type','=','out_refund')]}" 
                               domain="[('partner_id','=',partner_id),('id', '!=', active_id),('type','in',['out_invoice', 'out_refund'])]"/>
                        <field   name="nro_ctrl" required="1"/>
                        <button  name="%(action_wiz_nroctrl)d" 
                                 type='action' 
                                 string='Change control number' 
                                 icon="gtk-execute" 
                                 colspan="6"/>
                    </group>
                </xpath>

                <xpath expr="//button[@string='Refund Invoice']" position="replace">
                    <button name="%(account.action_account_invoice_refund)d" type='action' string='Refund Invoice' states='open,paid' icon="gtk-execute"/>
                </xpath>-->


                <xpath expr="//field[@name='supplier_invoice_number']" position="after">
                    <field name="address_invoice_id"  domain="[('partner_id','=',partner_id), ('type','=','invoice')]"/>
                </xpath>

                <xpath expr="//page[@string='Payments']" position="after">
                    <page string="Debit-Credit Notes">
                        <field name="child_ids" 
                               nolabel="1" 
                               widget="many2many" 
                               domain="[('partner_id','=',partner_id),('id', '!=', active_id),('type','in',['in_invoice', 'in_refund'])]"/>
                    </page>
                </xpath>
                <xpath expr="//button[@string='Refund Invoice']" position="after">
                    <button name="%(action_account_invoice_debit)d" 
                            type='action' 
                            string='Debit Note' 
                            icon="gtk-execute" 
                            attrs="{'invisible':['|',('state','in',['proforma2','proforma','cancel', 'draft']),('type','in',['out_refund', 'in_refund'])]}"/>
                </xpath>
                <xpath expr="//button[@string='Refund Invoice']" position="after">
                    <button name="%(action_account_invoice_parent)d" 
                            type='action' 
                            string='Parent Invoice' 
                            states='open,paid' 
                            icon="gtk-execute" 
                            attrs="{'invisible':[('type','!=','in_refund')]}"/>
                </xpath>

            </field>
        </record>
        
        
        
        
 
    </data>
</openerp>
